<div class="row">
  <div class="w3-col m12">
      <app-menu-superior></app-menu-superior>
  </div>
</div>
<div class="row">
   <div class="w3-col m3">
      <app-menu-lateral></app-menu-lateral>
   </div>
   <div class="w3-col m9">
      <mat-tab-group>
          <mat-tab> 
                  <ng-template mat-tab-label> Editar [{{id}}] </ng-template>
      <form [formGroup]="defeitoForm" (ngSubmit)="onFormSubmit(defeitoForm.value)">
            <div class="row" style="padding-top:2%">
              <div class="w3-col m12">
                <mat-form-field style="width: 20%">
                        <input matInput 
                               formControlName="idCopy"
                               type="number" 
                               placeholder="Id">
                </mat-form-field>  
             </div>
            </div>  
            <div class="row">
                      <div class="w3-col m12">
                           <mat-form-field style="width: 94%">
                              <input matInput 
                                     formControlName="titulo"
                                     placeholder="Título">
                           </mat-form-field>   
                      </div>
              </div>
              <div class="row">
                      <div class="w3-col m4">
                              <mat-form-field style="width: 94%">
                                      <input matInput 
                                             formControlName="dataCriacao"
                                             [matDatepicker]="picker1" 
                                             placeholder="Data de Criação">
                                              <mat-datepicker-toggle matSuffix 
                                                                    [for]="picker1">
                                              </mat-datepicker-toggle>
                                              <mat-datepicker #picker1></mat-datepicker>
                              </mat-form-field>
                      </div>
                      <div class="w3-col m8">
                              <mat-form-field style="width: 91%">
                                      <mat-select placeholder="Usuario Criador" 
                                                  formControlName="usuarioCriadorAux"
                                                  (selectionChange)="validaUserCriador()">
                                             <mat-option>Selecione um usuário</mat-option>
                                             <mat-option *ngFor="let usuario of usuarioService.usuariosByProjeto" 
                                                         [value]="usuario.email">
                                                          {{usuario.nome}}
                                             </mat-option>
                                      </mat-select>
                                   </mat-form-field>
                      </div>

              </div>
              <div class="row">
                <div class="w3-col m8">
                  <mat-form-field style="width: 91%">
                    <mat-select placeholder="Usuario Atribuído" 
                                formControlName="usuarioAtribuidoAux"
                                (selectionChange)="validaUserAtribuido()">
                           <mat-option>Selecione um usuário</mat-option>
                           <mat-option *ngFor="let usuario of usuarioService.usuariosByProjeto" 
                                       [value]="usuario.email">
                                        {{usuario.nome}}
                           </mat-option>
                    </mat-select>
                 </mat-form-field>
                </div>
                <div class="w3-col m4">
                  <mat-form-field style="width: 82%">
                    <mat-select placeholder="Nível de Criticidade" 
                                formControlName="nivelDeCriticidade">
                           <mat-option>Selecione um nível</mat-option>
                           <mat-option *ngFor="let critic of listaCritic" 
                                       [value]="critic.value">
                                        {{critic.description}}
                           </mat-option>
                    </mat-select>
                 </mat-form-field>
                </div>
        </div>
        <div class="row">
          <div class="w3-col m12">
            <mat-form-field style="width: 30%">
              <mat-select placeholder="Status" 
                          formControlName="status">
                     <mat-option>Selecione um status</mat-option>
                     <mat-option *ngFor="let status of listaStatus" 
                                 [value]="status.value">
                                  {{status.description}}
                     </mat-option>
              </mat-select>
           </mat-form-field>
          </div>
        </div>
              <div class="row">
                   <div class="w3-col m12" style="height: 100%;width: 95%; padding-bottom: 2%">
                      <ckeditor [editor]="Editor"
                                formControlName="conteudo"></ckeditor>

                   </div>
                   
              </div>
              <div class="row">
                  <div class="w3-col m12" align="right" style="padding-right:5%"> 
                          <button mat-raised-button 
                                      style="width: 20%"
                                      color="primary"
                                      type="submit">Salvar</button>
                  </div>
             </div>
      </form>
      </mat-tab>
      </mat-tab-group>
   </div>    
</div>    
